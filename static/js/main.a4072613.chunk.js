(this["webpackJsonpmy-fruits"]=this["webpackJsonpmy-fruits"]||[]).push([[0],{30:function(e,t,n){},34:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(16),a=n.n(i),s=(n(30),n(4)),r=n(10),o=n(19),m=n(5),d={CREATE_ITEM:"CREATE_ITEM",DELETE_ITEM:"DELETE_ITEM",SHOW_ITEM:"SHOW_ITEM",SAVE_ITEM:"SAVE_ITEM",SORT_ITEMS:"SORT_ITEMS",DOWNLOAD_ITEMS_FROM_LS:"DOWNLOAD_FROM_LS"},l={reduxItems:" "},u=function(e){return{type:d.SORT_ITEMS,payload:e}},j={item:" "},h=function(e){return{type:d.SHOW_ITEM,payload:e}},b=[{id:1,imageUrl:"https://cdn.wallpapersafari.com/63/45/C0O8eG.jpg",name:"Hurma",count:7,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:2,imageUrl:"https://4.imimg.com/data4/IO/NM/ANDROID-48424902/product-500x500.jpeg",name:"Guava",count:14,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:3,imageUrl:"https://www.espaceagro.com/_affaire/418808.jpg",name:"Watermelon",count:24,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:4,imageUrl:"https://cdn.wallpapersafari.com/63/45/C0O8eG.jpg",name:"Hurma",count:444,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:5,imageUrl:"https://4.imimg.com/data4/IO/NM/ANDROID-48424902/product-500x500.jpeg",name:"Guava",count:1,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:6,imageUrl:"https://www.espaceagro.com/_affaire/418808.jpg",name:"Watermelon",count:114,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:7,imageUrl:"https://cdn.wallpapersafari.com/63/45/C0O8eG.jpg",name:"Hurma",count:4444,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:8,imageUrl:"https://4.imimg.com/data4/IO/NM/ANDROID-48424902/product-500x500.jpeg",name:"Guava",count:34,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:9,imageUrl:"https://www.espaceagro.com/_affaire/418808.jpg",name:"Watermelon",count:74,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:10,imageUrl:"https://cdn.wallpapersafari.com/63/45/C0O8eG.jpg",name:"Hurma",count:774,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:11,imageUrl:"https://4.imimg.com/data4/IO/NM/ANDROID-48424902/product-500x500.jpeg",name:"Guava",count:4,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]},{id:12,imageUrl:"https://www.espaceagro.com/_affaire/418808.jpg",name:"Watermelon",count:2,size:{width:200,height:200},weight:"200g",comments:["Comment","Comment"]}],O=[{id:1,productId:1,description:"some text here 1",date:"14:00 22.08.2021"},{id:2,productId:1,description:"some text here 2",date:"14:00 22.08.2021"},{id:3,productId:1,description:"some text here 3",date:"14:00 22.08.2021"}],g=function(){var e=JSON.parse(localStorage.getItem("items"));return function(t){t({type:d.DOWNLOAD_ITEMS_FROM_LS,payload:e})}},p=function(e){return localStorage.setItem("selectedItem",JSON.stringify(e)),function(t){t(h(e)),t({type:d.SAVE_ITEM,payload:e})}},f=(n(34),n(11)),x=n(1),v=function(e){var t=e.imageUrl,n=e.name,c=e.count,i=e.id,a=e.deleteThisItem;return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)(f.b,{className:"link",to:"/info",children:Object(x.jsx)("div",{className:"__img",children:Object(x.jsx)("img",{src:t,alt:""})})}),Object(x.jsx)("div",{className:"__name",children:n}),Object(x.jsxs)("div",{className:"__quantity",children:["count: ",c]}),Object(x.jsx)(f.b,{to:"/",style:{textDecoration:"none"},children:Object(x.jsx)("div",{className:"__deleteButton",onClick:function(e){return a(i)},children:"Delete"})})]})},N=function(e){var t=e.reduxItems,n=e.mappedProducts,c=e.deleteItem,i=e.showItem;return" "!==t?t.map((function(e){return Object(x.jsx)("div",{className:"item-wrapper",onClick:function(){return i(e)},children:Object(x.jsx)(v,{imageUrl:e.imageUrl,name:e.name,count:e.count,id:e.id,deleteThisItem:c})},e.id)})):n},w=(n(38),function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),m=o[0],d=o[1],l=Object(c.useState)(""),u=Object(s.a)(l,2),j=u[0],h=u[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),g=O[0],p=O[1],f=Object(c.useState)(""),v=Object(s.a)(f,2),N=v[0],w=v[1],I=Object(c.useState)(!1),E=Object(s.a)(I,2),S=E[0],C=E[1],_=Object(c.useState)(!1),y=Object(s.a)(_,2),T=y[0],M=y[1],D=Object(c.useState)(!1),R=Object(s.a)(D,2),A=R[0],U=R[1],W=Object(c.useState)(!1),k=Object(s.a)(W,2),z=k[0],L=k[1],F=Object(c.useState)(!1),H=Object(s.a)(F,2),V=H[0],B=H[1],G={},J=function(){return 0!==i.length&&/^[a-zA-Z]+$/.test(i)||(G.name="Field can be only with latin letters"),(0===m.length||isNaN(m))&&(G.count="Count can be only a number"),(0===j.length||isNaN(j))&&(G.width="Width can be only a number"),(0===g.length||isNaN(g))&&(G.height="Height can be only a number"),(0===N.length||isNaN(N))&&(G.weight="Weight can be only a number"),G};return Object(x.jsx)("div",{className:"modal-container",children:e.modalVisible&&Object(x.jsxs)("div",{className:"upsert-modal",children:[Object(x.jsxs)("div",{className:"upsert-modal__header",children:[Object(x.jsx)("div",{className:"form-button-submit",onClick:function(){if(Object.keys(G).length>0)return alert("Form is incorrect"),void console.log("name.length",i.length);var t={imageUrl:"https://www.espaceagro.com/_affaire/418808.jpg",name:i,count:m,width:j,height:g,weight:N};e.submit(t),a(""),d(""),h(""),p(""),w(""),C(!1),M(!1),U(!1),L(!1),B(!1),console.log("error",G)},children:e.actionType}),Object(x.jsx)("div",{className:"form-button-cancel",onClick:function(){e.setModalVisible(!1)},children:"Cancel"})]}),Object(x.jsxs)("div",{className:"upsert-modal__body",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Name"}),J().name&&S&&Object(x.jsx)("div",{className:"errorField",children:J().name}),Object(x.jsx)("input",{className:"input",onBlur:function(){return C(!0)},onChange:function(e){return a(e.target.value)},value:i})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Count"}),J().count&&T&&Object(x.jsx)("div",{className:"errorField",children:J().count}),Object(x.jsx)("input",{className:"input",onBlur:function(){return M(!0)},onChange:function(e){return d(e.target.value)},value:m})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Width"}),J().width&&A&&Object(x.jsx)("div",{className:"errorField",children:J().width}),Object(x.jsx)("input",{className:"input",onBlur:function(){return U(!0)},onChange:function(e){return h(e.target.value)},value:j})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Height"}),J().height&&z&&Object(x.jsx)("div",{className:"errorField",children:J().height}),Object(x.jsx)("input",{className:"input",onBlur:function(){return L(!0)},onChange:function(e){return p(e.target.value)},value:g})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Weight"}),J().weight&&V&&Object(x.jsx)("div",{className:"errorField",children:J().weight}),Object(x.jsx)("input",{className:"input",onBlur:function(){return B(!0)},onChange:function(e){return w(e.target.value)},value:N})]})]})]})})}),I=(n(39),function(){var e=Object(r.b)(),t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],a=n[1],o=Object(c.useState)(" "),m=Object(s.a)(o,2),l=m[0],j=m[1];Object(c.useEffect)((function(){null===JSON.parse(localStorage.getItem("items"))&&localStorage.setItem("items",JSON.stringify(b))}),[]);var O=Object(r.c)((function(e){return e}));Object(c.useEffect)((function(){e(g())}),[O]),Object(c.useEffect)((function(){j(O.mainPageReducer.reduxItems)}),[O]);return Object(x.jsxs)("div",{className:i?"main-page main-page--active":"main-page",children:[Object(x.jsxs)("div",{className:"button-wrapper",children:[Object(x.jsx)("div",{className:"main-page-button",onClick:function(){e(u(l.sort((function(e,t){return e.name.localeCompare(t.name)}))))},children:"Sort by name"}),Object(x.jsx)("div",{className:"add-item-button",onClick:function(){return a(!0)},children:"New Product"}),Object(x.jsx)("div",{className:"main-page-button",onClick:function(){e(u(l.sort((function(e,t){return+e.count>+t.count?1:+e.count<+t.count?-1:0}))))},children:"Sort by count"})]}),Object(x.jsx)("div",{className:"form-wrapper",children:Object(x.jsx)(w,{modalVisible:i,submit:function(t){t.id=+Date.now(),e({type:d.CREATE_ITEM,payload:t})},setModalVisible:a,actionType:"Add"})}),Object(x.jsx)("div",{className:"fruits-area",children:Object(x.jsx)(N,{reduxItems:l,mappedProducts:"Loading...",deleteItem:function(t){confirm("Do you want delete this item?")&&e({type:d.DELETE_ITEM,payload:t})},showItem:function(t){e(function(e){return localStorage.setItem("selectedItem",JSON.stringify(e)),function(t){t(h(e))}}(t))}})})]})}),E=n(3),S=(n(40),function(e){var t=e.coments,n=e.itemId,c="No coments",i=t.filter((function(e){return e.id===n}))||"";return i.length>0&&(c=i.map((function(e){return Object(x.jsxs)("div",{className:"coment-wrapper",children:[Object(x.jsxs)("div",{className:"coment-header",children:[Object(x.jsx)("div",{className:"coment-date",children:e.date}),Object(x.jsx)("div",{className:"coment-delete-button",children:"X"})]}),Object(x.jsx)("div",{className:"coment-description",children:e.description})]},e.id)}))),c}),C=(n(41),function(){var e=Object(r.b)(),t=Object(E.g)(),n=Object(c.useState)(!1),i=Object(s.a)(n,2),a=i[0],o=i[1],m=Object(r.c)((function(e){return e})).itemReducer.item,d=m.imageUrl,l=m.name,u=m.count,j=m.weight,b=m.id;Object(c.useEffect)((function(){e(function(){var e=JSON.parse(localStorage.getItem("selectedItem"));return function(t){t(h(e))}}())}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsx)(w,{modalVisible:a,submit:function(t){t.id=m.id,t.imageUrl=m.imageUrl,e(p(t))},setModalVisible:o,actionType:"Save"}),Object(x.jsxs)("div",{className:"info-wrapper",children:[Object(x.jsx)("div",{className:"photo-container",children:Object(x.jsx)("img",{src:d,alt:"",className:"img"})}),Object(x.jsxs)("div",{className:"description-container",children:[Object(x.jsx)("div",{className:"description-name",children:l}),Object(x.jsxs)("div",{className:"description-count",children:["Count: ",u]}),Object(x.jsxs)("div",{className:"description-weight",children:["Weight: ",j]})]}),Object(x.jsxs)("div",{className:"button-container",children:[Object(x.jsx)("div",{className:"back-button",onClick:function(){return t.goBack()},children:"< Back"}),Object(x.jsx)("div",{className:"edit-button",onClick:function(){return o(!0)},children:"Edit Item"})]})]}),Object(x.jsx)(S,{coments:O,itemId:b})]})});n(42);var _=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(E.d,{children:[Object(x.jsx)(E.b,{exact:!0,path:"/",component:I}),Object(x.jsx)(E.b,{path:"/info",component:C}),Object(x.jsx)(E.a,{to:"/"})]})})},y=n(15),T=n(24),M=n(25),D=Object(y.combineReducers)({mainPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.DOWNLOAD_ITEMS_FROM_LS:return" "===e.reduxItems?Object(m.a)(Object(m.a)({},e),{},{reduxItems:t.payload}):e;case d.CREATE_ITEM:return Object(m.a)(Object(m.a)({},e),{},{reduxItems:[].concat(Object(o.a)(e.reduxItems),[t.payload])});case d.SORT_ITEMS:return Object(m.a)(Object(m.a)({},e),{},{reduxItems:t.payload});case d.SAVE_ITEM:return Object(m.a)(Object(m.a)({},e),{},{reduxItems:[].concat(Object(o.a)(e.reduxItems.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case d.DELETE_ITEM:return Object(m.a)(Object(m.a)({},e),{},{reduxItems:Object(o.a)(e.reduxItems.filter((function(e){return e.id!==t.payload})))});default:return e}},itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SHOW_ITEM:return Object(m.a)(Object(m.a)({},e),{},{item:t.payload});case d.UPDATE_ITEM:return Object(m.a)(Object(m.a)({},e),{},{item:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}}}),R=Object(y.createStore)(D,Object(M.composeWithDevTools)(Object(y.applyMiddleware)(T.a)));a.a.render(Object(x.jsx)(r.a,{store:R,children:Object(x.jsx)(f.a,{children:Object(x.jsx)(_,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.a4072613.chunk.js.map